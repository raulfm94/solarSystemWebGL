<html>
	<head>
	<meta charset="utf8">
	<title>Solar System</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
	 integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

	 <link rel="stylesheet" href="styles.css">
	<script src="three.min.js"></script>

	<!-- <script src="js/TrackballControls.js"></script> -->
	<script src="js/OrbitControls.js"></script>

	<script src="js/Detector.js"></script>
	<script src="js/stats.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

	<!-- <script src="CanvasRenderer.js"></script> -->
	</head>
	<body>
		<nav>
			<div class="container">
				<div class="row">
				 <div class="icon min col s1" data-toggle="collapse" href="#mercury" aria-expanded="false" aria-controls="mercury venus"><img src="img/mercury-icon.jpeg" alt="" width="30px"><div class="text">Mercury</div></div>
				 <div class="icon min col s1" data-toggle="collapse" href="#venus" aria-expanded="false" aria-controls="mercury venus earth"><img src="img/venus-icon.jpg" alt="" ><div class="text">Venus</div></div>
				 <div class="icon col s1" data-toggle="collapse" href="#earth" aria-expanded="false" aria-controls="mercury venus earth"><img src="img/earth-icon.jpg" alt="" ><div class="text">Earth</div></div>
				 <div class="icon min col s1" data-toggle="collapse" href="#mars" aria-expanded="false" aria-controls="collapseExample"><img src="img/mars-icon.jpeg" alt="" ><div class="text">Mars</div></div>
				 <div class="icon min col s1" data-toggle="collapse" href="#jupiter" aria-expanded="false" aria-controls="collapseExample"><img src="img/jupiter-icon.png" alt="" ><div class="text">Jupiter</div></div>
				 <div class="icon col s1" data-toggle="collapse" href="#saturn" aria-expanded="false" aria-controls="collapseExample"><img src="img/saturn-icon.jpg" alt="" ><div class="text">Saturn</div></div>
				 <div class="icon col s1" data-toggle="collapse" href="#uranus" aria-expanded="false" aria-controls="collapseExample"><img src="img/uranus-icon.jpg" alt="" ><div class="text">Uranus</div></div>
				 <div class="icon min col s1" data-toggle="collapse" href="#neptune" aria-expanded="false" aria-controls="collapseExample"><img src="img/neptune-icon.jpg" alt="" ><div class="text">Neptune</div></div>
				 <div class="icon min col s1" data-toggle="collapse" href="#pluto" aria-expanded="false" onclick="showPlanet(10)" aria-controls="collapseExample"><img src="img/pluto-icon.jpeg" alt="" ><div class="text">Moon</div></div>
				 <div class="icon min col s1">
				 	<i class="fa fa-space-shuttle" aria-hidden="true"></i>Explore</div></div>
			 </div>
		</nav>
		<div id="container">
			<div class="collapse multi-collapse" id="mercury">
			  <div class="card card-body night">
			    Mercury is the smallest and innermost planet in the Solar System. Its orbital period around the Sun of 88 days is the shortest of all the planets in the Solar System. It is named after the Roman deity Mercury, the messenger to the gods.
			  </div>
			</div>
			<div class="collapse multi-collapse" id="venus">
			  <div class="card card-body night">
			    Venus is the second planet from the Sun, orbiting it every 224.7 Earth days.It has the longest rotation period (243 days) of any planet in the Solar System and rotates in the opposite direction to most other planets. It has no natural satellites.
			  </div>
			</div>
			<div class="collapse multi-collapse" id="earth">
			  <div class="card card-body night">
			    Earth is the third planet from the Sun and the only object in the Universe known to harbor life. According to radiometric dating and other sources of evidence, Earth formed over 4 billion years ago. Earth's gravity interacts with other objects in space, especially the Sun and the Moon, Earth's only natural satellite.
			  </div>
			</div>
			<div class="collapse" id="mars">
			  <div class="card card-body night">
			    Mars is the fourth planet from the Sun and the second-smallest planet in the Solar System after Mercury. In English, Mars carries a name of the Roman god of war, and is often referred to as the "Red Planet" because the reddish iron oxide prevalent on its surface gives it a reddish appearance that is distinctive among the astronomical bodies visible to the naked eye.
			  </div>
			</div>
			<div class="collapse" id="jupiter">
			  <div class="card card-body night">
			    Jupiter is the fifth planet from the Sun and the largest in the Solar System. It is a giant planet with a mass one-thousandth that of the Sun, but two and a half times that of all the other planets in the Solar System combined. Jupiter and Saturn are gas giants; the other two giant planets, Uranus and Neptune are ice giants. Jupiter has been known to astronomers since antiquity.
			  </div>
			</div>
			<div class="collapse" id="saturn">
			  <div class="card card-body night">
			    Saturn is the sixth planet from the Sun and the second-largest in the Solar System, after Jupiter. It is a gas giant with an average radius about nine times that of Earth. It has only one-eighth the average density of Earth, but with its larger volume Saturn is over 95 times more massive.
			  </div>
			</div>
			<div class="collapse" id="uranus">
			  <div class="card card-body night">
			    Uranus is the seventh planet from the Sun. It has the third-largest planetary radius and fourth-largest planetary mass in the Solar System. Uranus is similar in composition to Neptune, and both have different bulk chemical composition from that of the larger gas giants Jupiter and Saturn.
			  </div>
			</div>
			<div class="collapse" id="neptune">
			  <div class="card card-body night">
			    Neptune is the eighth and farthest known planet from the Sun in the Solar System. In the Solar System, it is the fourth-largest planet by diameter, the third-most-massive planet, and the densest giant planet. Neptune is 17 times the mass of Earth and is slightly more massive than its near-twin Uranus, which is 15 times the mass of Earth and slightly larger than Neptune.
			  </div>
			</div>
			<div class="collapse" id="moon">
			  <div class="card card-body night">
			    Pluto was discovered by Clyde Tombaugh in 1930 and was originally considered to be the ninth planet from the Sun. After 1992, its status as a planet was questioned following the discovery of several objects of similar size in the Kuiper belt. In 2005, Eris, a dwarf planet in the scattered disc which is 27% more massive than Pluto, was discovered. This led the International Astronomical Union (IAU) to define the term "planet" formally in 2006, during their 26th General Assembly. That definition excluded Pluto and reclassified it as a dwarf planet..
			  </div>
			</div>
		</div>
		<script>

			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

			var container, stats;
			var scene, camera, renderer, controls;
			var sun, mercury, venus, earth, mars, jupiter, saturn, uranus, neptune, ring, moon;
			var t = 0;
			var y = 0;
			var info = false;
			var infoMercury = false;
			var infoEarth = false;
			var infoJupiter = false;

			var light;
			//var target = scene;

			var Orbit = function(radius) {
				this.radius = radius;

				this.draw = function(scene){
					var og = new THREE.Geometry();
					var om = new THREE.PointsMaterial({color: 0xbfbfbf, size:1, sizeAttenuation: false});
					for(var i = 0; i<50000;i++){
						var v = new THREE.Vector3();
						v.x = Math.sin(180/Math.PI*i)*this.radius;
						v.z = Math.cos(180/Math.PI*i)*this.radius;
						og.vertices.push(v);
					}
					var obj = new THREE.Points(og,om);
					scene.add(obj);
				};
			};


			init();
			animate();

			function init() {
				camera = new THREE.PerspectiveCamera(45,window.innerWidth / window.innerHeight,1,1000000);
				//camera.position.z = 200000;

				scene = new THREE.Scene();
				//scene.add(camera);

				controls = new THREE.OrbitControls(camera);

				camera.position.set(0,20,200000);
				controls.update();

				

				
				light = new THREE.PointLight(0xffffff,1.7,200000);
				light.position.set(0,0,0);
				light.castShadow = true;
				scene.add(light);

				// Code....
				// Texture solution
				var loader = new THREE.TextureLoader();

				loader.load( 'img/sunmap.jpg', function (texture) {

					// Sun
					var sun_geom, sun_mat;
					sun_geom = new THREE.SphereGeometry(2300,80,80);

					sun_mat = new THREE.MeshPhongMaterial( { map: texture, emissive: 0xe09304});
					sun = new THREE.Mesh(sun_geom,sun_mat);
					scene.add(sun);

				} );

				// Mercury
				loader.load( 'img/mercurymap.jpg', function (mercury_texture) {

					// Mercury
					var mercury_geom, mercury_mat;
					mercury_geom = new THREE.SphereGeometry(60,20,20);

					mercury_mat = new THREE.MeshBasicMaterial( {map: mercury_texture});
					mercury = new THREE.Mesh(mercury_geom, mercury_mat);
					mercury.castShadow = true;
					scene.add(mercury);

				} );

				loader.load( 'img/venusmap.jpg', function (venus_texture) {

					// Venus
					var venus_geom, venus_mat;
					venus_geom = new THREE.SphereGeometry(90,20,20);

					venus_mat = new THREE.MeshBasicMaterial( {map: venus_texture});
					venus = new THREE.Mesh(venus_geom, venus_mat);
					venus.castShadow = true;
					scene.add(venus);

				} );


				// Earth
				loader.load( 'img/earthmap.jpg', function (texture2) {

					// Earth
					var earth_geom, earth_mat;
					earth_geom = new THREE.SphereGeometry(100,20,20);

					earth_mat = new THREE.MeshBasicMaterial( {map: texture2});
					earth = new THREE.Mesh(earth_geom,earth_mat);
					earth.castShadow = true;
					scene.add(earth);

				} );

				// Moon
				loader.load( 'img/moonmap.jpg', function (moon_texture) {

					// Moon
					var moon_geom, moon_mat;
					moon_geom = new THREE.SphereGeometry(40,20,20);

					//var texture2 = THREE.TextureLoader('earth.jpg');
					//texture2.anisotropy = 8;
					moon_mat = new THREE.MeshBasicMaterial( {map: moon_texture});
					moon = new THREE.Mesh(moon_geom,moon_mat);
					//earth.position.x = 1500;
					moon.castShadow = true;
					scene.add(moon);

				} );

				// Earth Orbit
				var earth_orbit_geom = new THREE.Geometry();
				var earth_orbit_mat = new THREE.PointsMaterial( {color: 0x3A3A3A, opacity:0.3, size:1, sizeAttenuation: false});

				for(var i=0;i<20000;i++){
					var vertex = new THREE.Vector3();
					vertex.x = Math.sin(180/Math.PI*i)*30000;
					vertex.z = Math.cos(180/Math.PI*i)*30000;
					earth_orbit_geom.vertices.push(vertex);
				}

				var earth_orbit = new THREE.Points(earth_orbit_geom,earth_orbit_mat);
				earth_orbit.castShadow = true;
				scene.add(earth_orbit); // 0 0 0


				loader.load( 'img/marsmap.jpg', function (mars_texture) {

					// Mars
					var mars_geom, mars_mat;
					mars_geom = new THREE.SphereGeometry(80,20,20);

					mars_mat = new THREE.MeshBasicMaterial( {map: mars_texture});
					mars = new THREE.Mesh(mars_geom, mars_mat);
					mars.castShadow = true;
					scene.add(mars);

				} );


				loader.load( 'img/jupitermap.jpg', function (jupiter_texture) {

					//Jupiter
					var jupiter_geom, jupiter_mat;
					jupiter_geom = new THREE.SphereGeometry(350,20,20);

					jupiter_mat = new THREE.MeshBasicMaterial( {map: jupiter_texture});
					jupiter = new THREE.Mesh(jupiter_geom, jupiter_mat);
					jupiter.castShadow = true;
					scene.add(jupiter);

				} );


				loader.load( 'img/saturnmap.jpg', function (saturn_texture) {

					// Saturn
					var saturn_geom, saturn_mat;
					saturn_geom = new THREE.SphereGeometry(230,20,20);

					saturn_mat = new THREE.MeshBasicMaterial( {map: saturn_texture});
					saturn = new THREE.Mesh(saturn_geom, saturn_mat);
					saturn.castShadow = true;
					scene.add(saturn);

				} );

				// Saturn Rings
				var ring_saturn_geom = new THREE.Geometry();
				var ring_saturn_mat = new THREE.PointsMaterial( {color: 0x3A3A3A, opacity:0.3, size:1, sizeAttenuation: false});

				for(var i=0;i<20000;i++){
					var vertex = new THREE.Vector3();
					vertex.x = Math.sin(Math.PI/180*i)*(550-i/80);
					vertex.y = Math.random()*20;
					vertex.z = Math.cos(Math.PI/180*i)*(550-i/80);
					ring_saturn_geom.vertices.push(vertex);
				}

				ring = new THREE.Points(ring_saturn_geom,ring_saturn_mat);
				ring.castShadow = true;
				scene.add(ring); // 0 0 0



				loader.load( 'img/uranusmap.jpg', function (uranus_texture) {

					// Neptune
					var uranus_geom, uranus_mat;
					uranus_geom = new THREE.SphereGeometry(170,40,40);

					uranus_mat = new THREE.MeshBasicMaterial( {map: uranus_texture});
					uranus = new THREE.Mesh(uranus_geom, uranus_mat);
					uranus.castShadow = true;
					scene.add(uranus);

				} );

				loader.load( 'img/neptunemap.jpg', function (neptune_texture) {

					// Neptune
					var neptune_geom, neptune_mat;
					neptune_geom = new THREE.SphereGeometry(160,40,40);

					neptune_mat = new THREE.MeshBasicMaterial( {map: neptune_texture});
					neptune = new THREE.Mesh(neptune_geom, neptune_mat);
					neptune.castShadow = true;
					scene.add(neptune);

				} );

				// Stars
				var starsGeometry = new THREE.Geometry();
				var starsMaterial = new THREE.PointsMaterial({color:0xbbbbbb,opacity:0.5,size:1,sizeAttenuation:false});
				var stars;

				for(var i=0; i<3000; i++) {
					var vertex = new THREE.Vector3();
					vertex.x = Math.random()*2-1;
					vertex.y = Math.random()*2-1;
					vertex.z = Math.random()*2-1;
					vertex.multiplyScalar(6000);
					starsGeometry.vertices.push(vertex);
				}

				stars = new THREE.Points(starsGeometry,starsMaterial);
				stars.scale.set(50,50,-50);
				scene.add(stars);

				var starsGeometry2 = new THREE.Geometry();
				var starsMaterial2 = new THREE.PointsMaterial({color:0xbbbbb,opacity:0.8,size:1,sizeAttenuation:false});
				var stars2;

				for(var i=0; i<3000; i++) {
					var vertex = new THREE.Vector3();
					vertex.x = Math.random()*2-1;
					vertex.y = Math.random()*2-1;
					vertex.z = Math.random()*2-1;
					vertex.multiplyScalar(6000);
					starsGeometry2.vertices.push(vertex);
				}

				stars2 = new THREE.Points(starsGeometry2,starsMaterial2);
				stars2.scale.set(70,150,-100);
				scene.add(stars2);

				// Ambient
				var ambient = new THREE.AmbientLight(0x222222);
				scene.add(ambient);

				// Orbits for all planets
				var mercury_orbit = new Orbit(8000);
				mercury_orbit.draw(scene);

				var venus_orbit = new Orbit(17000);
				venus_orbit.draw(scene);

				var mars_orbit = new Orbit(50000);
				mars_orbit.draw(scene);

				var jupiter_orbit = new Orbit(74000);
				jupiter_orbit.draw(scene);

				var saturn_orbit = new Orbit(98000);
				saturn_orbit.draw(scene);

				var uranus_orbit = new Orbit(120000);
				uranus_orbit.draw(scene);

				var neptune_orbit = new Orbit(180000);
				neptune_orbit.draw(scene);


				// Renderer

				renderer = new THREE.WebGLRenderer( {antialias: false});
				renderer.setPixelRatio(window.devicePixelRatio);
				renderer.setSize(window.innerWidth, window.innerHeight);


				container = document.getElementById( 'container');
				container.appendChild(renderer.domElement);

				stats = new Stats();
				container.appendChild(stats.dom);

				window.addEventListener('resize', onWindowResize, false);

				render();
			}

			function onWindowResize(){

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize(window.innerWidth, window.innerHeight);

				render();
			}

			function animate(){

				requestAnimationFrame(animate);

				sun.rotation.y += 0.001;

				controls.update();

				mercury.position.x = Math.sin(t*0.3)*8000;
				mercury.position.z = Math.cos(t*0.3)*8000;

				venus.position.x = Math.sin(t*0.2)*17000;
				venus.position.z = Math.cos(t*0.2)*17000;

				earth.position.x = Math.sin(t*0.1)*30000;
				earth.position.z = Math.cos(t*0.1)*30000;

				mars.position.x = Math.sin(t*0.08)*50000;
				mars.position.z = Math.cos(t*0.08)*50000;
				
				jupiter.position.x = Math.sin(t*0.06)*(-74000);
				jupiter.position.z = Math.cos(t*0.06)*(-74000);

				saturn.position.x = Math.sin(t*0.04)*98000;
				saturn.position.z = Math.cos(t*0.04)*98000;

				ring.position.x = saturn.position.x;
				ring.position.z = saturn.position.z;

				uranus.position.x = Math.sin(t*0.02)*120000;
				uranus.position.z = Math.cos(t*0.02)*120000;

				neptune.position.x = Math.sin(t*0.01)*180000;
				neptune.position.z = Math.cos(t*0.01)*180000;

				moon.position.x = earth.position.x + Math.sin(t*1)*1000;
				moon.position.z = earth.position.z + Math.cos(t*1)*1000;

				mercury.rotation.y -= 0.01;
				venus.rotation.y -= 0.01;
				earth.rotation.y -= 0.01;
				mars.rotation.y -= 0.01;
				jupiter.rotation.y -= 0.01;
				saturn.rotation.y -= 0.01;
				ring.rotation.y -= 0.001; //use oposite
				neptune.rotation.y -= 0.01;
				uranus.rotation.y -= 0.01
				moon.rotation.y -= 0.05;

				t += Math.PI/180*2;

				// camera.position.z = venus.position.z + 1000;
				// camera.position.x = venus.position.x + 1000;

				// camera.lookAt(scene.position);

				// render.render(scene,camera);

				renderer.render(scene, camera);
			}

			function render () {

				//renderer.render(scene, camera);

				stats.update();
				//console.log("Render Function");
			}
		</script>
  </div>
	</body>
</html>